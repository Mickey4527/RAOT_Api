2025-02-08 04:47:12 | N/A | ERROR | Traceback (most recent call last):
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 720, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\asyncio\queues.py", line 186, in get
    await getter
asyncio.exceptions.CancelledError

2025-02-08 04:48:12 | 6babafb1-bee8-4c05-b93d-5511f0191a1e | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ~~~~~~~~~~~~~~~~~~^^^
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ~~~~~~~~~~~~~~~~~~^^^
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:48:13 | 8905b1f8-c9ec-4d1e-ae9e-24f5d961cda5 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ~~~~~~~~~~~~~~~~~~^^^
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ~~~~~~~~~~~~~~~~~~^^^
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:50:13 | afa3b653-6419-479a-830d-e2f7f4930f1a | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     error_filter(e)
    |     ~~~~~~~~~~~~^^^
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    error_filter(e)
    ~~~~~~~~~~~~^^^
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:50:13 | 8d6bc353-7d7f-4ae1-b00e-928ada68e828 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     error_filter(e)
    |     ~~~~~~~~~~~~^^^
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    error_filter(e)
    ~~~~~~~~~~~~^^^
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:50:14 | fab40f2b-9e35-46fc-a4fb-b424ca24627d | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     error_filter(e)
    |     ~~~~~~~~~~~~^^^
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    error_filter(e)
    ~~~~~~~~~~~~^^^
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:50:14 | 0195816c-ae04-4ab3-9f23-5c38e58ee885 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     error_filter(e)
    |     ~~~~~~~~~~~~^^^
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    error_filter(e)
    ~~~~~~~~~~~~^^^
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:50:15 | 18cdaab5-ba01-43a9-af09-41fa34beff1f | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     error_filter(e)
    |     ~~~~~~~~~~~~^^^
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    error_filter(e)
    ~~~~~~~~~~~~^^^
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:50:32 | 9ceb1a07-c357-4d2b-9576-79afe534a8fd | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     error_filter(e)
    |     ~~~~~~~~~~~~^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    |     return record.levelno in (logging.ERROR, logging.CRITICAL)
    |            ^^^^^^^^^^^^^^
    | AttributeError: 'NameError' object has no attribute 'levelno'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    error_filter(e)
    ~~~~~~~~~~~~^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    return record.levelno in (logging.ERROR, logging.CRITICAL)
           ^^^^^^^^^^^^^^
AttributeError: 'NameError' object has no attribute 'levelno'
2025-02-08 04:51:01 | 94d6c5ae-d086-4d2c-a97d-18d8da456bdc | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    |     return record.levelno in (logging.ERROR, logging.CRITICAL)
    |        ^^^^^^^^^^^^^^
    | AttributeError: 'NameError' object has no attribute 'levelno'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    return record.levelno in (logging.ERROR, logging.CRITICAL)
       ^^^^^^^^^^^^^^
AttributeError: 'NameError' object has no attribute 'levelno'
2025-02-08 04:51:01 | 0355c955-1ef8-422e-91c8-a9aa6514a52f | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    |     return record.levelno in (logging.ERROR, logging.CRITICAL)
    |        ^^^^^^^^^^^^^^
    | AttributeError: 'NameError' object has no attribute 'levelno'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    return record.levelno in (logging.ERROR, logging.CRITICAL)
       ^^^^^^^^^^^^^^
AttributeError: 'NameError' object has no attribute 'levelno'
2025-02-08 04:51:02 | eb66494e-789d-4ce1-a560-eba4c5fe2fe6 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    |     return record.levelno in (logging.ERROR, logging.CRITICAL)
    |        ^^^^^^^^^^^^^^
    | AttributeError: 'NameError' object has no attribute 'levelno'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    return record.levelno in (logging.ERROR, logging.CRITICAL)
       ^^^^^^^^^^^^^^
AttributeError: 'NameError' object has no attribute 'levelno'
2025-02-08 04:51:02 | 25f35299-882c-4e5b-b851-1b81a9f1b723 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    |     return record.levelno in (logging.ERROR, logging.CRITICAL)
    |        ^^^^^^^^^^^^^^
    | AttributeError: 'NameError' object has no attribute 'levelno'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    return record.levelno in (logging.ERROR, logging.CRITICAL)
       ^^^^^^^^^^^^^^
AttributeError: 'NameError' object has no attribute 'levelno'
2025-02-08 04:51:03 | 360c8950-59b3-4c8c-91ac-5b2845d7610e | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    |     return record.levelno in (logging.ERROR, logging.CRITICAL)
    |        ^^^^^^^^^^^^^^
    | AttributeError: 'NameError' object has no attribute 'levelno'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    return record.levelno in (logging.ERROR, logging.CRITICAL)
       ^^^^^^^^^^^^^^
AttributeError: 'NameError' object has no attribute 'levelno'
2025-02-08 04:51:04 | c5b8bdf3-8ef4-475c-9bd5-0977d2d0ebf3 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    |     return record.levelno in (logging.ERROR, logging.CRITICAL)
    |        ^^^^^^^^^^^^^^
    | AttributeError: 'NameError' object has no attribute 'levelno'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    return record.levelno in (logging.ERROR, logging.CRITICAL)
       ^^^^^^^^^^^^^^
AttributeError: 'NameError' object has no attribute 'levelno'
2025-02-08 04:51:05 | 045116ff-abe4-4473-8670-223ffeff5c00 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    |     return record.levelno in (logging.ERROR, logging.CRITICAL)
    |        ^^^^^^^^^^^^^^
    | AttributeError: 'NameError' object has no attribute 'levelno'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    return record.levelno in (logging.ERROR, logging.CRITICAL)
       ^^^^^^^^^^^^^^
AttributeError: 'NameError' object has no attribute 'levelno'
2025-02-08 04:51:05 | 344cd474-1627-4c39-bd3b-42a0ac6a1925 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    |     return record.levelno in (logging.ERROR, logging.CRITICAL)
    |        ^^^^^^^^^^^^^^
    | AttributeError: 'NameError' object has no attribute 'levelno'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    return record.levelno in (logging.ERROR, logging.CRITICAL)
       ^^^^^^^^^^^^^^
AttributeError: 'NameError' object has no attribute 'levelno'
2025-02-08 04:51:05 | 76f89e94-e091-4e29-a80b-4a5921d4a4d3 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    |     return record.levelno in (logging.ERROR, logging.CRITICAL)
    |        ^^^^^^^^^^^^^^
    | AttributeError: 'NameError' object has no attribute 'levelno'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    return record.levelno in (logging.ERROR, logging.CRITICAL)
       ^^^^^^^^^^^^^^
AttributeError: 'NameError' object has no attribute 'levelno'
2025-02-08 04:51:05 | 65099bc1-36d8-4c7b-9ec8-1cde5c0ce8af | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    |     return record.levelno in (logging.ERROR, logging.CRITICAL)
    |        ^^^^^^^^^^^^^^
    | AttributeError: 'NameError' object has no attribute 'levelno'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\utilities\app_logging.py", line 16, in error_filter
    return record.levelno in (logging.ERROR, logging.CRITICAL)
       ^^^^^^^^^^^^^^
AttributeError: 'NameError' object has no attribute 'levelno'
2025-02-08 04:51:13 | a25055ba-6910-45b7-b0fb-5a16954c9065 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ~~~~~~~~~~~~~~~~~~^^^
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ~~~~~~~~~~~~~~~~~~^^^
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:14 | 90fc7aa8-16ed-41ba-a817-9fd616a6224b | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ~~~~~~~~~~~~~~~~~~^^^
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ~~~~~~~~~~~~~~~~~~^^^
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:15 | d809865f-cf73-49bd-a38c-e494ed6513d7 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     ErrorFilter.filter(e)
    |     ~~~~~~~~~~~~~~~~~~^^^
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    ErrorFilter.filter(e)
    ~~~~~~~~~~~~~~~~~~^^^
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:32 | d3acd269-6ef6-4d29-ae7f-5defa1d4bd43 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:33 | e196dcbd-192a-4e55-a323-157e91d6ad8d | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:34 | e1da1f54-2419-4d20-91a4-066b7477c556 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:34 | 1484a1d7-1305-4ec4-af71-47c6578d2a2b | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:34 | f49e0ca2-6c4f-43a8-a2b8-bf88b9a4cd9a | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:35 | e5917b5b-b2a1-4322-a13a-0687c88e0659 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:35 | 819d6dcf-d8fa-4ec2-b1fe-59ba2dabaf04 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:46 | c36d492b-9d60-4f60-a7b8-83321d8a0aaa | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:47 | 6148cae3-1bf4-4661-ba45-7fe0d1de1235 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:47 | b086244c-53b8-4064-a51c-73b6b8c89c17 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:55 | 2e0077f0-4e65-4aed-ad81-77950d1ee168 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:57 | b56f9bd8-0a61-4dd6-b28b-cbf0cd594ad0 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:58 | 61a2a584-0412-4ea9-8bf2-d1d910bde923 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
2025-02-08 04:51:58 | 117bb75e-8a23-45e6-bcd1-54023cc9e724 | ERROR | Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 767, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     )
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |         self.scope, self.receive, self.send
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    |     raise app_exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    |     await route.handle(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    |     await province_service.get_provinces(query)
    |   File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    |     # ErrorFilter.filter(e)
    | TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\mix_z\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\core\middleware.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 154, in call_next
    raise app_exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\api\routes\province_router.py", line 23, in get_provinces
    await province_service.get_provinces(query)
  File "D:\mickeys_dev\seed_peoject\seed-api-canary\app\services\province_service.py", line 46, in get_provinces
    # ErrorFilter.filter(e)
TypeError: ErrorFilter.filter() missing 1 required positional argument: 'record'
